# Using the Parser CLI

The Test Prism Parser is a high-performance command-line tool written in Rust. Its primary job is to read test reports
generated by various testing frameworks and convert them into the standardized JSON format required by the Test Prism
Dashboard.

## Command Structure

The CLI is invoked using the `parse` subcommand.

```bash
test-prism-parser parse [OPTIONS]
```

_(Note: If you are running from source, replace `test-prism-parser` with `cargo run --`)_

## Parameters

The `parse` command accepts the following arguments:

### `--report-type` (Required)

Specifies the format of the input test report.

- **Current Support**: `junit`
- **Description**: Use this flag to tell the parser which strategy to use for reading the input file. While `junit` is
  the currently supported standard, the architecture is designed to support additional formats (like NUnit, TestNG, or
  custom JSON) in future updates.

### `--input` (Required)

The path to the source test report file or folder

- **Example**: `./reports/junit.xml`

### `--output` (Optional)

The path where the resulting JSON file will be saved.

- **Default**: `output.json`
- **Example**: `./assets/test-results.json`
- **Description**: If not provided, the parser will create a file named `output.json` in the current working directory.

## Examples

### Basic Usage

Parse a JUnit XML file and save the result to the default `output.json`:

```bash
test-prism-parser parse --report-type junit --input ./build/test-results.xml
```

### Custom Output Path

Parse a report and save it directly to the UI's assets folder (useful for local development):

```bash
test-prism-parser parse --report-type junit --input ./results.xml --output ./ui/src/assets/test-results.json
```

## Supported Formats

| Format    | Status       | Notes                                                                               |
| :-------- | :----------- | :---------------------------------------------------------------------------------- |
| **JUnit** | ✅ Supported | The standard XML format produced by most testing tools (Jest, Maven, Gradle, etc.). |

> Other type support is planned for future releases.
