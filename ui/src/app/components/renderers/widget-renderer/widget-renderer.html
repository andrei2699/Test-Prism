@if (widget(); as w) {
  <div [ngStyle]="w.style">
    @switch (w.type) {
      @case ('distribution-pie') {
        <app-test-distribution-pie-widget
          [colors]="colors()"
          [tests]="tests()"
          [parameters]="w.parameters" />
      }
      @case ('tree') {
        <app-tree-widget [colors]="colors()" [tests]="tests()" [parameters]="w.parameters" />
      }
      @case ('container') {
        <app-container-widget
          [colors]="colors()"
          [children]="w.children"
          [testReports]="testReports()"
          [style]="w.style" />
      }
      @case ('summary') {
        <app-summary-widget
          [colors]="colors()"
          [tests]="tests()"
          [timestamp]="timestamp()"
          [parameters]="w.parameters" />
      }
    }
  </div>
}
